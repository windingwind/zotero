richlistbox {
	background: var(--material-background);
	border: var(--material-panedivider);
	// Prevent horizontal scrollbar on Windows
	overflow-x: hidden;

	richlistitem {
		--listitem-selectedBackground: var(--color-quarternary-on-sidepane);;
		--listitem-selectedFocusCurrentBackground: var(--color-accent);
		--listitem-selectedTextColor: var(--color-accent-text);
		--listitem-selectedBorder: transparent;
		--listitem-selectedBottomBorder: transparent;
		--listitem-selectedCurrentBorder: transparent;
		--listitem-selectedFocusBorder: transparent;
		--listitem-selectedFocusBottomBorder: transparent;
		--listitem-selectedFocusCurrentBorder: transparent;
		--listitem-selectedFocusBackground: var(--color-accent);
		--listitem-selectedFocusColor: var(--accent-white);
		--listitem-selectedColor: var(--accent-white);
		--listitem-selectedFocusCurrentBottomBorder: transparent;

		padding: 0.2em 0.4em;
		align-items: center;

		@include compact {
			height: 22px;
		}

		@include comfortable {
			height: 28px;
		}

		&,
		& > *,
		& label {
			// Prevent word cut-off with double-byte characters
			overflow: hidden;
			white-space: nowrap;
			text-overflow: ellipsis;
			width: 100%;
		}

		&[selected="true"] {
			border-top-color: var(--listitem-selectedBorder);
			border-inline-color: var(--listitem-selectedBorder);
			border-bottom-color: var(--listitem-selectedBottomBorder);
			background-image: var(--listitem-selectedImage);
			background-color: var(--listitem-selectedBackground);
			color: var(--listitem-selectedTextColor);
		}
	}

	&:focus {
		& > richlistitem {
			&[selected="true"] {
				border-top-color: var(--listitem-selectedFocusBorder);
				border-inline-color: var(--listitem-selectedFocusBorder);
				border-bottom-color: var(--listitem-selectedFocusBottomBorder);
				background-image: var(--listitem-selectedFocusImage);
				background-color: var(--listitem-selectedFocusBackground);
				color: var(--listitem-selectedTextColor);
			}

			&[current="true"] {
				border-color: var(--listitem-selectedCurrentBorder);
				outline: none;
			}

			&[selected="true"][current="true"] {
				border-top-color: var(--listitem-selectedFocusCurrentBorder);
				border-inline-color: var(--listitem-selectedFocusCurrentBorder);
				border-bottom-color: var(--listitem-selectedFocusCurrentBottomBorder);
				background-color: var(--listitem-selectedFocusCurrentBackground);
				outline: none;
			}
		}

		&[seltype="multiple"] > richlistitem {
			&[selected="true"][current="true"] {
				outline: var(--default-focusring);
				outline-color: currentColor;
				outline-offset: calc(-1 * var(--default-focusring-width));
			}
		}
	}
}
